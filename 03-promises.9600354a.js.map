{"mappings":"YAAA,IAAMA,EAAOC,SAASC,cAAc,SAC9BC,EAAaF,SAASC,cAAc,kBACpCE,EAAOH,SAASC,cAAc,iBAC9BG,EAASJ,SAASC,cAAc,mBAChCI,EAASL,SAASM,iBAAiB,mBACnCC,EAAYP,SAASC,cAAc,eA+CzCF,EAAKS,iBAAiB,UAjCtB,SAAwBC,GACtBA,EAAMC,iBAENH,EAAUI,SAAW,OACrBN,EAAOO,SAAQ,SAAAC,GACbA,EAAMF,SAAW,M,IAGnB,IAAIG,EAAW,EACXC,EAAU,KAEdC,YAAW,WACTD,EAAUE,aAAY,WACpB,IAAMC,EACJC,SAASjB,EAAWkB,OAASD,SAAShB,EAAKiB,MAAQN,IA1B3D,SAAuBA,EAAUI,GAC/B,IAAMG,EAAgBC,KAAKC,SAAW,GAQtC,OAPgB,IAAIC,SAAQ,SAACC,EAASC,GAChCL,EACFI,EAAQ,uBAA4CE,OAAnBb,EAAW,EAAE,QAAYa,OAANT,EAAM,OAExDQ,EAAK,sBAAyCC,OAAnBb,EAAW,EAAE,QAAYa,OAANT,EAAM,M,KAsBtDU,CAAcd,EAAUI,GACrBW,MAAK,SAAAC,G,OAAYC,QAAQC,IAAIF,E,IAC7BG,OAAM,SAAAC,G,OAAYH,QAAQC,IAAIE,E,IAE7BpB,GAAYV,EAAOgB,MAAQ,IAC7Be,cAAcpB,GACdV,EAAOO,SAAQ,SAAAC,GACbA,EAAMO,MAAQ,GACdP,EAAMuB,gBAAgB,W,IAExB7B,EAAU6B,gBAAgB,aAE5BtB,G,GACCX,EAAKiB,M,GACPlB,EAAWkB,M","sources":["src/js/03-promises.js"],"sourcesContent":["const form = document.querySelector('.form');\nconst firstDelay = document.querySelector('[name=\"delay\"]');\nconst step = document.querySelector('[name=\"step\"]');\nconst amount = document.querySelector('[name=\"amount\"]');\nconst inputs = document.querySelectorAll('[type=\"number\"]');\nconst submitBtn = document.querySelector('form button');\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  const promise = new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      resolve(`✅ Fulfilled promise ${position + 1} in ${delay}ms`);\n    } else {\n      reject(`❌ Rejected promise ${position + 1} in ${delay}ms`);\n    }\n  });\n  return promise;\n}\n\nfunction promiseCreator(event) {\n  event.preventDefault();\n\n  submitBtn.disabled = 'true';\n  inputs.forEach(input => {\n    input.disabled = 'true';\n  });\n\n  let position = 0;\n  let timerId = null;\n\n  setTimeout(() => {\n    timerId = setInterval(() => {\n      const delay =\n        parseInt(firstDelay.value) + parseInt(step.value * position);\n\n      createPromise(position, delay)\n        .then(resolved => console.log(resolved))\n        .catch(rejected => console.log(rejected));\n\n      if (position >= amount.value - 1) {\n        clearInterval(timerId);\n        inputs.forEach(input => {\n          input.value = '';\n          input.toggleAttribute('disabled');\n        });\n        submitBtn.toggleAttribute('disabled');\n      }\n      position++;\n    }, step.value);\n  }, firstDelay.value);\n}\n\nform.addEventListener('submit', promiseCreator);\n"],"names":["$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$firstDelay","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$inputs","querySelectorAll","$ce04d3a99e08e73b$var$submitBtn","addEventListener","event","preventDefault","disabled","forEach","input","position","timerId","setTimeout","setInterval","delay","parseInt","value","shouldResolve","Math","random","Promise","resolve","reject","concat","$ce04d3a99e08e73b$var$createPromise","then","resolved","console","log","catch","rejected","clearInterval","toggleAttribute"],"version":3,"file":"03-promises.9600354a.js.map"}